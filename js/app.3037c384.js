(function(){"use strict";var e={3909:function(e,t,n){var o=n(6369),a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},s=[],i=n(1001),r={},l=(0,i.Z)(r,a,s,!1,null,null,null),c=l.exports,_=n(2631),u=(n(7658),function(){var e=this,t=e._self._c;return t("div",{staticClass:"page-home container"},[t("div",{staticClass:"page-home__search"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"page-home__search-input",attrs:{type:"text",placeholder:"Введите имя покемона"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),e.search?t("div",{staticClass:"page-home__search-box"},e._l(e.pokemonsByName,(function(n,o){return t("div",{key:o,staticClass:"page-home__search-box-item",on:{click:function(t){return e.$router.push({name:"page-details",params:{name:n.name}})}}},[e._v(" "+e._s(n.name)+" ")])})),0):e._e()]),t("div",{staticClass:"page-home__list"},[e._l(e.GET_CURRENT_POKEMONS,(function(n,o){return[o<e.GET_POKEMONS_COUNT?t("pokemon-preview",{key:o,attrs:{pokemonName:n.name}}):e._e()]}))],2)])}),p=[],m=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pokemon-preview"},[e.currentPokemon&&e.currentPokemon.sprites?t("img",{staticClass:"pokemon-preview__image",attrs:{src:e.currentPokemon.sprites.front_default,alt:e.pokemonName}}):t("div",{staticClass:"pokemon-preview__image-placeholder"}),t("div",{staticClass:"pokemon-preview__name"},[e._v(" "+e._s(e.pokemonName)+" ")]),t("div",{staticClass:"pokemon-preview__button button__primary",on:{click:e.goToDetails}},[e._v(" подробнее ")])])},d=[],h=n(3822),v={name:"pokemon-preview",props:{pokemonName:String},data:()=>({currentPokemon:null}),created(){this.FETCH_POKEMON_BY_NAME(this.pokemonName).then((e=>{const t=e.data;this.currentPokemon=t})).catch((e=>console.log(e)))},mounted(){},methods:{...(0,h.nv)(["FETCH_POKEMON_BY_NAME"]),goToDetails(){this.$router.push({name:"page-details",params:{name:this.pokemonName}})}},computed:{}},O=v,f=(0,i.Z)(O,m,d,!1,null,null,null),E=f.exports,k={name:"page-home",components:{PokemonPreview:E},data:()=>({currentCount:20,search:""}),computed:{...(0,h.Se)(["GET_ALL_POKEMONS","GET_CURRENT_POKEMONS","GET_POKEMONS_COUNT"]),pokemonsByName(){return this.GET_ALL_POKEMONS.filter((e=>-1!==e.name.indexOf(this.search)))}},methods:{...(0,h.nv)(["ALL_POKEMONS_LINKS","POKEMONS_BY_PAGE"]),addPokemons(){this.currentCount+=10},onWindowScroll(){let e=document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight;e&&this.currentCount<this.GET_POKEMONS_COUNT&&this.addPokemons()}},created(){this.ALL_POKEMONS_LINKS()},mounted(){this.GET_CURRENT_POKEMONS.length?this.currentCount=this.GET_CURRENT_POKEMONS.length:this.POKEMONS_BY_PAGE([20,0]),window.addEventListener("scroll",this.onWindowScroll,{passive:!0})},destroyed(){window.removeEventListener("scroll",this.onWindowScroll,{passive:!0})},watch:{currentCount:{handler(e){e!==this.GET_CURRENT_POKEMONS.length&&e<this.GET_POKEMONS_COUNT&&this.POKEMONS_BY_PAGE([20===e?20:10,20===e?0:e-10])}}}},g=k,N=(0,i.Z)(g,u,p,!1,null,"7056ad62",null),P=N.exports,C=function(){var e=this,t=e._self._c;return t("div",{staticClass:"page-details container"},[t("div",{staticClass:"page-details__button button__primary",on:{click:function(t){return e.$router.push({name:"page-home"})}}},[e._v(" Назад ")]),e.pokemon?t("div",{staticClass:"page-details__card"},[e.pokemon.sprites?t("img",{staticClass:"page-details__card-image",attrs:{src:e.pokemon.sprites.front_default,alt:e.pokemon.name}}):t("div",{staticClass:"page-details__card-image-placeholder"}),t("div",{staticClass:"page-details__card-info"},[t("div",{staticClass:"page-details__card-info-cell page-details__card-info-cell-1"},[t("div",{staticClass:"page-details__card-caption"},[e._v(" name ")]),t("div",{staticClass:"page-details__card-value"},[e._v(" "+e._s(e.pokemon.name)+" ")])]),e._l(e.pokemon.stats,(function(n,o){return t("div",{key:`${n.stat.name} + ${o}`,class:`page-details__card-info-cell page-details__card-info-cell-${o+2}`},[t("div",{staticClass:"page-details__card-caption"},[e._v(" "+e._s(n.stat.name)+" ")]),t("div",{staticClass:"page-details__card-value"},[e._v(" "+e._s(n.base_stat)+" ")])])})),e.pokemon.abilities?t("div",{staticClass:"page-details__card-info-cell page-details__card-info-cell-8"},[t("div",{staticClass:"page-details__card-caption"},[e._v(" abilities ")]),t("div",{staticClass:"page-details__card-abilities"},e._l(e.pokemon.abilities,(function(n,o){return t("div",{key:o,staticClass:"page-details__card-ability button__primary"},[e._v(e._s(n.ability.name))])})),0)]):e._e()],2)]):e._e()])},S=[],T={name:"page-details",data:()=>({pokemon:null}),methods:{...(0,h.nv)(["FETCH_POKEMON_BY_NAME"])},created(){this.FETCH_POKEMON_BY_NAME(this.$route.params.name).then((e=>{const t=e.data;this.pokemon=t})).catch((e=>console.log(e)))},mounted(){}},M=T,K=(0,i.Z)(M,C,S,!1,null,null,null),w=K.exports;o.ZP.use(_.ZP);const b=[{path:"/",name:"page-home",component:P},{path:"/pokemon/:name",name:"page-details",component:w}],U=new _.ZP({mode:"hash",base:"/test-poke-SPA/",routes:b});var y=U,L=n(4161);const A=L.Z.create({baseURL:"https://pokeapi.co/api/v2/"});var G=A;const R="pokemon?limit=100000&offset=0",x=(e,t)=>`pokemon?limit=${e}&offset=${t}`,Z=e=>`pokemon/${e}`;o.ZP.use(h.ZP);var B=new h.ZP.Store({state:{allPokemonUrls:[],pokemonUrls:[],pokemonCount:0},getters:{GET_CURRENT_POKEMONS(e){const t=e.pokemonUrls;return t||null},GET_ALL_POKEMONS(e){const t=e.allPokemonUrls;return t||null},GET_POKEMONS_COUNT(e){return e.pokemonCount}},mutations:{SET_POKEMONS(e,{pokemons:t}){o.ZP.set(e.pokemonUrls,t),e.allPokemonUrls=t},SET_POKEMONS_COUNT(e,{count:t}){e.pokemonCount=t},ADD_POKEMONS_URLS(e,{pokemons:t}){e.pokemonCount>e.pokemonUrls.length&&e.pokemonUrls.push(...t)}},actions:{ALL_POKEMONS_LINKS({commit:e}){return G.get(R).then((({data:t})=>{const{results:n}=t;return e("SET_POKEMONS",{pokemons:n}),t})).catch((e=>console.log(e)))},POKEMONS_BY_PAGE({commit:e},[t,n]){return G.get(x(t,n)).then((t=>{const{results:n}=t.data;return e("SET_POKEMONS_COUNT",{count:t.data.count}),e("ADD_POKEMONS_URLS",{pokemons:n}),t.data})).catch((e=>console.log(e)))},FETCH_POKEMON_BY_NAME(e,t){return G.get(Z(t))}},modules:{}});o.ZP.config.productionTip=!1,new o.ZP({router:y,store:B,render:e=>e(c)}).$mount("#app")}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var s=t[o]={exports:{}};return e[o].call(s.exports,s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,o,a,s){if(!o){var i=1/0;for(_=0;_<e.length;_++){o=e[_][0],a=e[_][1],s=e[_][2];for(var r=!0,l=0;l<o.length;l++)(!1&s||i>=s)&&Object.keys(n.O).every((function(e){return n.O[e](o[l])}))?o.splice(l--,1):(r=!1,s<i&&(i=s));if(r){e.splice(_--,1);var c=a();void 0!==c&&(t=c)}}return t}s=s||0;for(var _=e.length;_>0&&e[_-1][2]>s;_--)e[_]=e[_-1];e[_]=[o,a,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,s,i=o[0],r=o[1],l=o[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(l)var _=l(n)}for(t&&t(o);c<i.length;c++)s=i[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(_)},o=self["webpackChunkpoketest"]=self["webpackChunkpoketest"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(3909)}));o=n.O(o)})();
//# sourceMappingURL=app.3037c384.js.map